# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ React
## –ü—Ä–æ–±–ª–µ–º—ã –∏ –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è Angular

---

## üö® –û—Å–Ω–æ–≤–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞

### 1. **App.tsx - God Object Anti-pattern** (553 —Å—Ç—Ä–æ–∫–∏)

**–ü—Ä–æ–±–ª–µ–º—ã:**
```typescript
// ‚ùå –ü–õ–û–•–û: –û–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –≤—Å—ë
export default function App() {
  // 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
  const [habits, setHabits] = useState(initialHabits);
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  const [isDark, setIsDark] = useState(false);
  const [activeScreen, setActiveScreen] = useState("dashboard");
  
  // 2. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (100+ —Å—Ç—Ä–æ–∫)
  const handleMarkHabitToday = (habitId: string) => { ... }
  const handleIncrementHabitStep = (habitId: string) => { ... }
  const handleEditHabit = (habitId: string, updates: any) => { ... }
  
  // 3. Side effects
  useEffect(() => { /* localStorage */ }, []);
  useEffect(() => { /* keyboard shortcuts */ }, []);
  useEffect(() => { /* responsive */ }, []);
  
  // 4. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ª–æ–≥–∏–∫–∞
  const renderScreen = () => { ... }
  
  // 5. Auth –ª–æ–≥–∏–∫–∞
  const handleLogin = () => { ... }
  const handleLogout = () => { ... }
}
```

**–ß—Ç–æ –Ω–µ —Ç–∞–∫:**
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ Single Responsibility Principle
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- ‚ùå –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- ‚ùå Tight coupling (–≤—Å—ë —Å–≤—è–∑–∞–Ω–æ —Å–æ –≤—Å–µ–º)

---

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è Smart/Dumb –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

#### Dashboard.tsx (247 —Å—Ç—Ä–æ–∫)
```typescript
// ‚ùå –ü–õ–û–•–û: –°–º–µ—à–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
export function Dashboard({ habits, onMarkHabitToday, onIncrementStep, onUndoToday, onAddHabit }: DashboardProps) {
  // –í—ã—á–∏—Å–ª–µ–Ω–∏—è (–ª–æ–≥–∏–∫–∞) –ø—Ä—è–º–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
  const completionRate = Math.round(
    (habits.filter(h => h.completedToday).length / habits.length) * 100
  );
  const currentStreakAvg = Math.round(
    habits.reduce((sum, h) => sum + h.currentStreak, 0) / habits.length
  );
  
  // –ñ–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
  const weeklyData = [ ... ];
  
  // –ü—Ä—è–º–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
  return <div>...</div>
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫ —Å–º–µ—à–∞–Ω–∞ —Å UI
- ‚ùå Mock –¥–∞–Ω–Ω—ã–µ —Ö–∞—Ä–¥–∫–æ–¥—è—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- ‚ùå –ù–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏
- ‚ùå –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –ª–æ–≥–∏–∫—É –∏ UI

#### AppTopbar.tsx (337 —Å—Ç—Ä–æ–∫)
```typescript
// ‚ùå –ü–õ–û–•–û: –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
export function AppTopbar({ ... }: AppTopbarProps) {
  // –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  const [searchQuery, setSearchQuery] = useState("");
  const [notifications, setNotifications] = useState([...]);
  const [isAvatarModalOpen, setIsAvatarModalOpen] = useState(false);
  
  // –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞
  const searchResults = searchQuery.trim() ? [...habits.filter(...)] : [];
  
  // Keyboard shortcuts
  useEffect(() => { document.addEventListener("keydown", ...) }, []);
  
  // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥: –ø–æ–∏—Å–∫ + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è + –º–æ–¥–∞–ª–∫–∏ + –º–µ–Ω—é
  return <header>...</header>
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå Topbar —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ–¥–∞–ª–∫–∞–º–∏ (–Ω–µ –µ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å)
- ‚ùå –ü–æ–∏—Å–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä—è–º–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- ‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è mock –¥–∞–Ω–Ω—ã–º–∏
- ‚ùå Keyboard shortcuts –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏

---

### 3. **Habits.tsx - –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏** (295 —Å—Ç—Ä–æ–∫)

```typescript
// ‚ùå –ü–õ–û–•–û: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ª–æ–≥–∏–∫–∏
export function Habits({ ... }: HabitsProps) {
  // –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥–∞–ª–æ–∫ (–¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è —Å App.tsx)
  const [editModalOpen, setEditModalOpen] = useState(false);
  const [historyModalOpen, setHistoryModalOpen] = useState(false);
  const [deleteModalOpen, setDeleteModalOpen] = useState(false);
  const [selectedHabit, setSelectedHabit] = useState<any>(null);
  
  // –õ–æ–∫–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  const [searchTerm, setSearchTerm] = useState("");
  const [frequencyFilter, setFrequencyFilter] = useState("all");
  
  // Utility —Ñ—É–Ω–∫—Ü–∏–∏ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —É—Ç–∏–ª–∏—Ç–∞—Ö)
  const formatLastCheckIn = (dateString: string | null) => { ... }
  
  // EmptyState –æ–±—ä—è–≤–ª–µ–Ω –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ)
  const EmptyState = () => (<Card>...</Card>);
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå EmptyState –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
- ‚ùå formatLastCheckIn –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ utils
- ‚ùå –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª–∫–∞–º–∏ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è

---

### 4. **AddHabitModal.tsx - –ü–µ—Ä–µ—É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ** (322 —Å—Ç—Ä–æ–∫–∏)

```typescript
// ‚ö†Ô∏è –ù–ï –ü–õ–û–•–û, –Ω–æ –º–æ–∂–Ω–æ –ª—É—á—à–µ
export function AddHabitModal({ open, onOpenChange, onSave }: AddHabitModalProps) {
  // –û–≥—Ä–æ–º–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã
  const [formData, setFormData] = useState({ 
    name: "", goal: 1, frequency: "daily", 
    icon: "üéØ", color: "#4F46E5", 
    weekdays: [true, true, true, true, true, true, true] 
  });
  
  // –ú–Ω–æ–∂–µ—Å—Ç–≤–æ useMemo (—Ö–æ—Ä–æ—à–æ, –Ω–æ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å)
  const goalFieldLabel = useMemo(() => { ... }, [formData.frequency]);
  const goalPlaceholder = useMemo(() => { ... }, [formData.frequency]);
  const selectedDaysCount = useMemo(() => { ... }, [formData.weekdays]);
  const selectedDayNames = useMemo(() => { ... }, [formData.weekdays]);
  const isFormValid = useMemo(() => { ... }, [formData.name, ...]);
  const habitSummary = useMemo(() => { ... }, [formData.frequency, ...]);
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –ú–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π custom hook `useHabitForm`
- ‚ö†Ô∏è –õ–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
- ‚ö†Ô∏è –ú–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (HabitIconPicker, HabitColorPicker, DaySelector)

---

### 5. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤—ã–¥–µ–ª–µ–Ω—ã**

#### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–∞–∂–Ω—ã–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **HabitToolbar** - –ø–∞–Ω–µ–ª—å —Å –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
   ```typescript
   // –°–µ–π—á–∞—Å: –≤ Habits.tsx (—Å—Ç—Ä–æ–∫–∏ 116-145)
   <Card className="p-4">
     <div className="flex ...">
       <Input placeholder="Search..." />
       <Select>...</Select>
     </div>
   </Card>
   ```

2. **HabitTableRow** - —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏–≤—ã—á–∫–∏
   ```typescript
   // –°–µ–π—á–∞—Å: –≤–Ω—É—Ç—Ä–∏ Habits.tsx (—Å—Ç—Ä–æ–∫–∏ 180-265)
   {filteredHabits.map((habit) => (
     <TableRow>...</TableRow>
   ))}
   ```

3. **HabitHeader** - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∫–Ω–æ–ø–∫–æ–π
   ```typescript
   // –î—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ Dashboard, Habits, Analytics
   <div className="flex justify-between">
     <div><h1>Title</h1><p>Description</p></div>
     <Button>Action</Button>
   </div>
   ```

4. **ChartCard** - –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
   ```typescript
   // –î—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ Dashboard, Analytics
   <Card className="p-6">
     <h3>Chart Title</h3>
     <div className="h-64">
       <ResponsiveContainer>...</ResponsiveContainer>
     </div>
   </Card>
   ```

5. **UserProfileMenu** - –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è
   ```typescript
   // –°–µ–π—á–∞—Å: –≤–Ω—É—Ç—Ä–∏ AppTopbar (—Å—Ç—Ä–æ–∫–∏ 262-317)
   <DropdownMenu>
     <DropdownMenuTrigger>
       <Avatar>...</Avatar>
     </DropdownMenuTrigger>
     <DropdownMenuContent>...</DropdownMenuContent>
   </DropdownMenu>
   ```

6. **SearchBar** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∏—Å–∫–∞
   ```typescript
   // –°–µ–π—á–∞—Å: –≤–Ω—É—Ç—Ä–∏ AppTopbar (—Å—Ç—Ä–æ–∫–∏ 198-229)
   <div className="relative">
     <Input ... />
     <SearchResults ... />
   </div>
   ```

7. **NotificationBadge** - –±–µ–π–¥–∂ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
   ```typescript
   // –ù–µ –≤—ã–¥–µ–ª–µ–Ω, –Ω–æ –Ω—É–∂–µ–Ω –¥–ª—è notifications
   ```

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è Angular

### 1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏**

```
web/src/app/
‚îú‚îÄ‚îÄ core/                          # Singleton —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit.service.ts       # State management –ø—Ä–∏–≤—ã—á–µ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.service.ts        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ theme.service.ts       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notification.service.ts # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analytics.service.ts   # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit.model.ts         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Habit, HabitForm
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.model.ts          # User, AuthState
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analytics.model.ts     # ChartData, KPI
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ date.utils.ts          # formatLastCheckIn, dateHelpers
‚îÇ       ‚îú‚îÄ‚îÄ habit.utils.ts         # calculateStreak, etc.
‚îÇ       ‚îî‚îÄ‚îÄ validators.ts          # –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
‚îÇ
‚îú‚îÄ‚îÄ shared/                        # Dumb –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ)
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit-card/            # ‚úÖ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit-card.component.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit-card.component.html
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ habit-card.component.scss
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kpi-card/              # ‚úÖ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit-toolbar/         # ‚úÖ –ù–û–í–´–ô: –ü–æ–∏—Å–∫ + —Ñ–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit-table-row/       # ‚úÖ –ù–û–í–´–ô: –°—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page-header/           # ‚úÖ –ù–û–í–´–ô: –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chart-card/            # ‚úÖ –ù–û–í–´–ô: –û–±–µ—Ä—Ç–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ empty-state/           # ‚úÖ –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search-bar/            # ‚úÖ –ù–û–í–´–ô: –ü–æ–∏—Å–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user-profile-menu/    # ‚úÖ –ù–û–í–´–ô: –ú–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ directives/
‚îÇ   ‚îî‚îÄ‚îÄ pipes/
‚îÇ       ‚îú‚îÄ‚îÄ relative-time.pipe.ts  # ‚úÖ –ù–û–í–´–ô: "2 days ago"
‚îÇ       ‚îî‚îÄ‚îÄ streak-format.pipe.ts  # ‚úÖ –ù–û–í–´–ô: "7 day streak"
‚îÇ
‚îú‚îÄ‚îÄ features/                      # Smart –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã)
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.component.ts        # ‚úÖ Smart (container)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.component.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ weekly-chart/             # ‚úÖ –ù–û–í–´–ô: –ì—Ä–∞—Ñ–∏–∫ –Ω–µ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ habits-overview-table/    # ‚úÖ –ù–û–í–´–ô: –¢–∞–±–ª–∏—Ü–∞ –æ–±–∑–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard.service.ts          # ‚úÖ –ù–û–í–´–ô: Dashboard-specific logic
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ habits/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habits.component.ts           # ‚úÖ Smart (container)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habits.component.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit-list/               # ‚úÖ –ù–û–í–´–ô: –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—ã—á–µ–∫
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ habit-filters/            # ‚úÖ –ù–û–í–´–ô: –§–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ habits.service.ts             # ‚úÖ –ù–û–í–´–ô: Habits-specific logic
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ analytics/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics.component.ts        # ‚úÖ Smart (container)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics.component.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ streak-trend-chart/       # ‚úÖ –ù–û–í–´–ô
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ completion-bar-chart/     # ‚úÖ –ù–û–í–´–ô
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ monthly-pie-chart/        # ‚úÖ –ù–û–í–´–ô
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ top-habits-list/          # ‚úÖ –ù–û–í–´–ô
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analytics.service.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ profile/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile.component.ts          # ‚úÖ Smart (container)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ profile-form/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ preferences-form/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ notifications-settings/
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ auth/
‚îÇ       ‚îú‚îÄ‚îÄ welcome/
‚îÇ       ‚îú‚îÄ‚îÄ login/
‚îÇ       ‚îî‚îÄ‚îÄ signup/
‚îÇ
‚îú‚îÄ‚îÄ layout/                        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã layout
‚îÇ   ‚îú‚îÄ‚îÄ app-shell/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app-shell.component.ts        # ‚úÖ Main shell
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app-shell.component.html
‚îÇ   ‚îú‚îÄ‚îÄ sidebar/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app-sidebar.component.ts      # ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π sidebar
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app-sidebar.component.html
‚îÇ   ‚îú‚îÄ‚îÄ topbar/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app-topbar.component.ts       # ‚úÖ –í–µ—Ä—Ö–Ω–∏–π –±–∞—Ä (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ notifications-dropdown/   # ‚úÖ –ù–û–í–´–ô
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ theme-toggle/             # ‚úÖ –ù–û–í–´–ô
‚îÇ   ‚îî‚îÄ‚îÄ mobile-nav/
‚îÇ       ‚îú‚îÄ‚îÄ mobile-nav.component.ts       # ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ mobile-nav.component.html
‚îÇ
‚îî‚îÄ‚îÄ modals/                        # –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
    ‚îú‚îÄ‚îÄ add-habit-modal/
    ‚îÇ   ‚îú‚îÄ‚îÄ add-habit-modal.component.ts
    ‚îÇ   ‚îú‚îÄ‚îÄ components/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit-icon-picker/        # ‚úÖ –ù–û–í–´–ô
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ habit-color-picker/       # ‚úÖ –ù–û–í–´–ô
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ day-selector/             # ‚úÖ –ù–û–í–´–ô
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ habit-summary/            # ‚úÖ –ù–û–í–´–ô
    ‚îÇ   ‚îî‚îÄ‚îÄ add-habit-form.service.ts     # ‚úÖ –ù–û–í–´–ô: Form logic
    ‚îú‚îÄ‚îÄ edit-habit-modal/
    ‚îú‚îÄ‚îÄ delete-habit-modal/
    ‚îú‚îÄ‚îÄ onboarding-modal/
    ‚îî‚îÄ‚îÄ avatar-upload-modal/
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–°–µ—Ä–≤–∏—Å—ã (State Management)**

#### HabitService
```typescript
// ‚úÖ –•–û–†–û–®–û: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
@Injectable({ providedIn: 'root' })
export class HabitService {
  private habitsSignal = signal<Habit[]>([]);
  
  // Read-only –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
  readonly habits = this.habitsSignal.asReadonly();
  
  // Computed values
  readonly activeHabits = computed(() => 
    this.habits().filter(h => !h.archived)
  );
  
  readonly completionRate = computed(() => {
    const habits = this.activeHabits();
    const completed = habits.filter(h => h.completedToday).length;
    return Math.round((completed / habits.length) * 100);
  });
  
  // Actions
  markHabitToday(habitId: string): void {
    this.habitsSignal.update(habits => 
      habits.map(h => h.id === habitId 
        ? { ...h, completedToday: true, currentStreak: h.currentStreak + 1 }
        : h
      )
    );
  }
  
  incrementHabitStep(habitId: string): void { ... }
  undoHabitToday(habitId: string): void { ... }
  addHabit(habit: HabitForm): void { ... }
  updateHabit(id: string, updates: Partial<Habit>): void { ... }
  deleteHabit(id: string): void { ... }
  
  // Persistence
  saveToLocalStorage(): void { ... }
  loadFromLocalStorage(): void { ... }
}
```

#### ThemeService
```typescript
// ‚úÖ –•–û–†–û–®–û: –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π
@Injectable({ providedIn: 'root' })
export class ThemeService {
  private isDarkSignal = signal<boolean>(false);
  readonly isDark = this.isDarkSignal.asReadonly();
  
  constructor() {
    this.loadTheme();
  }
  
  toggleTheme(): void {
    this.isDarkSignal.update(v => !v);
    this.applyTheme();
    this.saveTheme();
  }
  
  private applyTheme(): void {
    document.documentElement.classList.toggle('dark', this.isDark());
  }
  
  private loadTheme(): void { ... }
  private saveTheme(): void { ... }
}
```

---

### 2. **Smart/Dumb —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ**

#### Dashboard (Smart Component)
```typescript
// ‚úÖ –•–û–†–û–®–û: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–º–∏
@Component({
  selector: 'app-dashboard',
  templateUrl: './dashboard.component.html',
  standalone: true,
  imports: [
    HabitCardComponent,       // Dumb
    KpiCardComponent,          // Dumb
    WeeklyChartComponent,      // Dumb
    HabitsOverviewTableComponent, // Dumb
    PageHeaderComponent        // Dumb
  ]
})
export class DashboardComponent {
  // –ò–Ω–∂–µ–∫—Ç–∏–º —Å–µ—Ä–≤–∏—Å—ã
  private habitService = inject(HabitService);
  private analyticsService = inject(AnalyticsService);
  
  // –î–∞–Ω–Ω—ã–µ –∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤ (—Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ)
  readonly habits = this.habitService.activeHabits;
  readonly completionRate = this.habitService.completionRate;
  readonly weeklyData = this.analyticsService.weeklyData;
  
  // Actions (–¥–µ–ª–µ–≥–∏—Ä—É–µ–º –≤ —Å–µ—Ä–≤–∏—Å—ã)
  onMarkHabit(id: string): void {
    this.habitService.markHabitToday(id);
  }
  
  onIncrementStep(id: string): void {
    this.habitService.incrementHabitStep(id);
  }
  
  onUndoHabit(id: string): void {
    this.habitService.undoHabitToday(id);
  }
}
```

#### HabitCard (Dumb Component)
```typescript
// ‚úÖ –•–û–†–û–®–û: –ß–∏—Å—Ç—ã–π –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
@Component({
  selector: 'app-habit-card',
  templateUrl: './habit-card.component.html',
  standalone: true,
  imports: [UiButtonComponent, UiProgressComponent, ...]
})
export class HabitCardComponent {
  // –¢–æ–ª—å–∫–æ inputs (–Ω–∏–∫–∞–∫–æ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
  readonly habit = input.required<Habit>();
  
  // –¢–æ–ª—å–∫–æ outputs (–Ω–∏–∫–∞–∫–æ–π –ª–æ–≥–∏–∫–∏)
  readonly markToday = output<void>();
  readonly incrementStep = output<void>();
  readonly undoToday = output<void>();
  
  // Computed –¥–ª—è UI (—á–∏—Å—Ç–æ view logic)
  readonly isMultiGoal = computed(() => this.habit().goal > 1);
  readonly displayProgress = computed(() => 
    (this.habit().currentStep / this.habit().goal) * 100
  );
}
```

---

### 3. **–í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

#### HabitToolbar
```typescript
// ‚úÖ –ù–û–í–´–ô –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
@Component({
  selector: 'app-habit-toolbar',
  template: `
    <ui-card class="p-4">
      <div class="flex gap-4">
        <app-search-bar 
          [(query)]="searchQuery"
          (queryChange)="searchChange.emit($event)"
        />
        <ui-select [(value)]="frequencyFilter">
          <ui-select-trigger>
            <ui-select-value />
          </ui-select-trigger>
          <ui-select-content>
            <ui-select-item value="all">All</ui-select-item>
            <ui-select-item value="daily">Daily</ui-select-item>
            <ui-select-item value="weekly">Weekly</ui-select-item>
          </ui-select-content>
        </ui-select>
      </div>
    </ui-card>
  `
})
export class HabitToolbarComponent {
  readonly searchQuery = model<string>('');
  readonly frequencyFilter = model<string>('all');
  
  readonly searchChange = output<string>();
  readonly filterChange = output<string>();
}
```

#### PageHeader
```typescript
// ‚úÖ –ù–û–í–´–ô –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π)
@Component({
  selector: 'app-page-header',
  template: `
    <div class="flex justify-between items-center">
      <div>
        <h1 class="text-2xl font-semibold">{{ title() }}</h1>
        <p class="text-muted-foreground">{{ description() }}</p>
      </div>
      @if (actionLabel()) {
        <ui-button (click)="action.emit()">
          {{ actionLabel() }}
        </ui-button>
      }
    </div>
  `
})
export class PageHeaderComponent {
  readonly title = input.required<string>();
  readonly description = input<string>('');
  readonly actionLabel = input<string>();
  readonly action = output<void>();
}
```

#### ChartCard
```typescript
// ‚úÖ –ù–û–í–´–ô –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤)
@Component({
  selector: 'app-chart-card',
  template: `
    <ui-card class="p-6">
      <div class="flex items-center gap-2 mb-6">
        <ng-content select="[icon]" />
        <h3 class="text-lg font-semibold">{{ title() }}</h3>
      </div>
      <div [style.height.px]="height()">
        <ng-content />
      </div>
    </ui-card>
  `
})
export class ChartCardComponent {
  readonly title = input.required<string>();
  readonly height = input<number>(256);
}
```

---

### 4. **–£—Ç–∏–ª–∏—Ç—ã –∏ Pipes**

#### RelativeTimePipe
```typescript
// ‚úÖ –ù–û–í–´–ô pipe (–≤–º–µ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ)
@Pipe({ name: 'relativeTime', standalone: true })
export class RelativeTimePipe implements PipeTransform {
  transform(dateString: string | null): string {
    if (!dateString) return 'Never';
    
    const date = new Date(dateString);
    const now = new Date();
    const diffDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24));
    
    if (diffDays === 0) return 'Today';
    if (diffDays === 1) return 'Yesterday';
    return `${diffDays} days ago`;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
// {{ habit.lastCheckIn | relativeTime }}
```

#### StreakFormatPipe
```typescript
// ‚úÖ –ù–û–í–´–ô pipe
@Pipe({ name: 'streakFormat', standalone: true })
export class StreakFormatPipe implements PipeTransform {
  transform(streak: number): string {
    return `${streak} day${streak !== 1 ? 's' : ''} streak`;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
// {{ habit.currentStreak | streakFormat }}
```

---

### 5. **–†–∞–∑–±–∏–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

#### AddHabitModal - –¥–æ
```typescript
// ‚ùå 322 —Å—Ç—Ä–æ–∫–∏, –≤—Å–µ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
export function AddHabitModal({ ... }) {
  // –û–≥—Ä–æ–º–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  const [formData, setFormData] = useState({ ... });
  
  // –ú–Ω–æ–∂–µ—Å—Ç–≤–æ useMemo
  const goalFieldLabel = useMemo(() => { ... });
  const habitSummary = useMemo(() => { ... });
  
  // –û–≥—Ä–æ–º–Ω—ã–π JSX (270+ —Å—Ç—Ä–æ–∫)
  return <Dialog>...</Dialog>
}
```

#### AddHabitModal - –ø–æ—Å–ª–µ
```typescript
// ‚úÖ –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (—É–ø—Ä–æ—â–µ–Ω –¥–æ ~100 —Å—Ç—Ä–æ–∫)
@Component({
  selector: 'app-add-habit-modal',
  template: `
    <ui-dialog [open]="open()" (openChange)="openChange.emit($event)">
      <ui-dialog-content>
        <ui-dialog-header>
          <ui-dialog-title>Add New Habit</ui-dialog-title>
        </ui-dialog-header>
        
        <form [formGroup]="form">
          <!-- Name -->
          <ui-label>Habit Name</ui-label>
          <ui-input formControlName="name" />
          
          <!-- Frequency -->
          <ui-label>Frequency</ui-label>
          <app-frequency-selector formControlName="frequency" />
          
          <!-- Goal -->
          <app-goal-input 
            [frequency]="form.value.frequency"
            formControlName="goal"
          />
          
          <!-- Days (for weekly/custom) -->
          @if (showDaySelector()) {
            <app-day-selector formControlName="weekdays" />
          }
          
          <!-- Summary -->
          <app-habit-summary [formValue]="form.value" />
          
          <!-- Icon Picker -->
          <app-habit-icon-picker formControlName="icon" />
          
          <!-- Color Picker -->
          <app-habit-color-picker formControlName="color" />
        </form>
        
        <ui-dialog-footer>
          <ui-button variant="outline" (click)="openChange.emit(false)">
            Cancel
          </ui-button>
          <ui-button 
            (click)="onSave()"
            [disabled]="!form.valid"
          >
            Add Habit
          </ui-button>
        </ui-dialog-footer>
      </ui-dialog-content>
    </ui-dialog>
  `
})
export class AddHabitModalComponent {
  readonly open = input<boolean>(false);
  readonly openChange = output<boolean>();
  readonly save = output<HabitForm>();
  
  // –°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏–∫–æ–π —Ñ–æ—Ä–º—ã
  private formService = inject(AddHabitFormService);
  readonly form = this.formService.createForm();
  
  readonly showDaySelector = computed(() => 
    ['weekly', 'custom'].includes(this.form.value.frequency)
  );
  
  onSave(): void {
    if (this.form.valid) {
      this.save.emit(this.form.value);
      this.form.reset();
      this.openChange.emit(false);
    }
  }
}

// ‚úÖ –ü–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (~30-50 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π)
@Component({
  selector: 'app-habit-icon-picker',
  template: `
    <div class="flex gap-2 flex-wrap">
      @for (icon of icons; track icon) {
        <ui-button
          [variant]="value() === icon ? 'default' : 'outline'"
          (click)="selectIcon(icon)"
        >
          {{ icon }}
        </ui-button>
      }
    </div>
  `
})
export class HabitIconPickerComponent implements ControlValueAccessor {
  readonly icons = ['üéØ', 'üíß', 'üí™', 'üìö', 'üßò', ...];
  readonly value = model<string>('üéØ');
  
  selectIcon(icon: string): void {
    this.value.set(icon);
  }
  
  // ControlValueAccessor implementation...
}

@Component({
  selector: 'app-day-selector',
  template: `
    <div class="flex gap-2">
      @for (day of weekdays; track day; let i = $index) {
        <ui-button
          [variant]="selectedDays()[i] ? 'default' : 'outline'"
          (click)="toggleDay(i)"
        >
          {{ day }}
        </ui-button>
      }
    </div>
  `
})
export class DaySelectorComponent implements ControlValueAccessor {
  readonly weekdays = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
  readonly selectedDays = model<boolean[]>([]);
  
  toggleDay(index: number): void {
    this.selectedDays.update(days => {
      const newDays = [...days];
      newDays[index] = !newDays[index];
      return newDays;
    });
  }
  
  // ControlValueAccessor implementation...
}

// ‚úÖ –°–µ—Ä–≤–∏—Å –¥–ª—è –ª–æ–≥–∏–∫–∏ —Ñ–æ—Ä–º—ã
@Injectable()
export class AddHabitFormService {
  createForm(): FormGroup {
    return new FormGroup({
      name: new FormControl('', [Validators.required]),
      goal: new FormControl(1, [Validators.required, Validators.min(1)]),
      frequency: new FormControl('daily'),
      icon: new FormControl('üéØ'),
      color: new FormControl('#4F46E5'),
      weekdays: new FormControl([true, true, true, true, true, true, true])
    });
  }
  
  calculateGoalLabel(frequency: string): string {
    switch (frequency) {
      case 'daily': return 'Goal per day';
      case 'weekly': return 'Goal per week';
      case 'custom': return 'Goal per selected day';
      default: return 'Goal per day';
    }
  }
  
  generateHabitSummary(formValue: any): string {
    // –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ summary
    ...
  }
}
```

---

### 6. **AppTopbar - —É–ø—Ä–æ—â–µ–Ω–∏–µ**

#### –î–æ (337 —Å—Ç—Ä–æ–∫)
```typescript
// ‚ùå AppTopbar –¥–µ–ª–∞–µ—Ç –≤—Å—ë
export function AppTopbar({ ... }) {
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–æ–º
  const [searchQuery, setSearchQuery] = useState("");
  const searchResults = ...;
  
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
  const [notifications, setNotifications] = useState([...]);
  
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª–∫–∞–º–∏
  const [isAvatarModalOpen, setIsAvatarModalOpen] = useState(false);
  const [isLogoutModalOpen, setIsLogoutModalOpen] = useState(false);
  
  // Keyboard shortcuts
  useEffect(() => { ... }, []);
  
  return (
    <>
      <header>
        {/* Search */}
        {/* Theme */}
        {/* Notifications */}
        {/* Profile */}
      </header>
      
      {/* Modals */}
      <AvatarUploadModal ... />
      <LogoutConfirmationModal ... />
    </>
  );
}
```

#### –ü–æ—Å–ª–µ (~100 —Å—Ç—Ä–æ–∫)
```typescript
// ‚úÖ AppTopbar - –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
@Component({
  selector: 'app-topbar',
  template: `
    <header class="h-16 border-b flex items-center justify-between px-4">
      <div class="flex items-center gap-4">
        <ui-button variant="ghost" (click)="toggleSidebar.emit()">
          <app-icon name="menu" />
        </ui-button>
        <h1 class="font-semibold">{{ title() }}</h1>
      </div>
      
      <div class="flex items-center gap-2">
        <!-- Search -->
        <app-search-bar />
        
        <!-- Add Habit -->
        @if (showAddButton()) {
          <ui-button (click)="addHabit.emit()">
            <app-icon name="plus" />
            Add Habit
          </ui-button>
        }
        
        <!-- Theme Toggle -->
        <app-theme-toggle />
        
        <!-- Notifications -->
        <app-notifications-dropdown />
        
        <!-- Profile Menu -->
        <app-user-profile-menu />
      </div>
    </header>
  `
})
export class AppTopbarComponent {
  readonly title = input.required<string>();
  readonly showAddButton = input<boolean>(false);
  readonly toggleSidebar = output<void>();
  readonly addHabit = output<void>();
}

// ‚úÖ –í—ã–Ω–µ—Å–µ–Ω–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
// - SearchBarComponent (~50 —Å—Ç—Ä–æ–∫)
// - ThemeToggleComponent (~30 —Å—Ç—Ä–æ–∫)
// - NotificationsDropdownComponent (~80 —Å—Ç—Ä–æ–∫)
// - UserProfileMenuComponent (~70 —Å—Ç—Ä–æ–∫)
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ –∏ –ü–æ—Å–ª–µ

### –ü—Ä–æ—Ç–æ—Ç–∏–ø React (–ø–ª–æ—Ö–æ)
```
App.tsx: 553 —Å—Ç—Ä–æ–∫–∏                    ‚ùå God Object
‚îú‚îÄ‚îÄ Manages state                      ‚ùå Tight coupling
‚îú‚îÄ‚îÄ Business logic                     ‚ùå Hard to test
‚îú‚îÄ‚îÄ Side effects                       ‚ùå Not reusable
‚îú‚îÄ‚îÄ Routing                            ‚ùå No separation
‚îî‚îÄ‚îÄ Rendering                          ‚ùå No abstraction

AppTopbar.tsx: 337 —Å—Ç—Ä–æ–∫               ‚ùå Too many responsibilities
‚îú‚îÄ‚îÄ Local state (search, notifications) ‚ùå Should be in service
‚îú‚îÄ‚îÄ Keyboard shortcuts                  ‚ùå Should be global
‚îú‚îÄ‚îÄ Modals management                   ‚ùå Should be separate
‚îî‚îÄ‚îÄ Search logic                        ‚ùå Should be in service

Dashboard.tsx: 247 —Å—Ç—Ä–æ–∫               ‚ùå Mixed concerns
‚îú‚îÄ‚îÄ Calculation logic                   ‚ùå Should be in service
‚îú‚îÄ‚îÄ Mock data                           ‚ùå Should be in service
‚îî‚îÄ‚îÄ Rendering                           ‚ö†Ô∏è OK, but can be split
```

### Angular (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
```
‚úÖ Core Layer
‚îú‚îÄ‚îÄ HabitService (~150 —Å—Ç—Ä–æ–∫)         ‚úÖ Centralized state
‚îú‚îÄ‚îÄ ThemeService (~50 —Å—Ç—Ä–æ–∫)          ‚úÖ Single responsibility
‚îú‚îÄ‚îÄ AnalyticsService (~100 —Å—Ç—Ä–æ–∫)     ‚úÖ Isolated logic
‚îî‚îÄ‚îÄ Utils & Validators (~50 —Å—Ç—Ä–æ–∫)    ‚úÖ Reusable functions

‚úÖ Smart Components (Containers)
‚îú‚îÄ‚îÄ DashboardComponent (~80 —Å—Ç—Ä–æ–∫)    ‚úÖ Just orchestration
‚îú‚îÄ‚îÄ HabitsComponent (~70 —Å—Ç—Ä–æ–∫)       ‚úÖ Just orchestration
‚îî‚îÄ‚îÄ AnalyticsComponent (~60 —Å—Ç—Ä–æ–∫)    ‚úÖ Just orchestration

‚úÖ Dumb Components (Presentation)
‚îú‚îÄ‚îÄ HabitCardComponent (~60 —Å—Ç—Ä–æ–∫)    ‚úÖ Pure presentation
‚îú‚îÄ‚îÄ KpiCardComponent (~40 —Å—Ç—Ä–æ–∫)      ‚úÖ Pure presentation
‚îú‚îÄ‚îÄ HabitToolbarComponent (~50 —Å—Ç—Ä–æ–∫) ‚úÖ Reusable
‚îú‚îÄ‚îÄ PageHeaderComponent (~30 —Å—Ç—Ä–æ–∫)   ‚úÖ Reusable
‚îî‚îÄ‚îÄ ChartCardComponent (~30 —Å—Ç—Ä–æ–∫)    ‚úÖ Reusable

‚úÖ Layout Components
‚îú‚îÄ‚îÄ AppTopbarComponent (~60 —Å—Ç—Ä–æ–∫)    ‚úÖ Simplified
‚îÇ   ‚îú‚îÄ‚îÄ SearchBarComponent (~50)      ‚úÖ Extracted
‚îÇ   ‚îú‚îÄ‚îÄ ThemeToggleComponent (~30)    ‚úÖ Extracted
‚îÇ   ‚îú‚îÄ‚îÄ NotificationsDropdown (~80)   ‚úÖ Extracted
‚îÇ   ‚îî‚îÄ‚îÄ UserProfileMenu (~70)         ‚úÖ Extracted
‚îî‚îÄ‚îÄ AppSidebarComponent (~80 —Å—Ç—Ä–æ–∫)   ‚úÖ Simple

‚úÖ Modals
‚îî‚îÄ‚îÄ AddHabitModalComponent (~100)     ‚úÖ Split into sub-components
    ‚îú‚îÄ‚îÄ HabitIconPicker (~40)         ‚úÖ Reusable
    ‚îú‚îÄ‚îÄ HabitColorPicker (~40)        ‚úÖ Reusable
    ‚îú‚îÄ‚îÄ DaySelector (~50)             ‚úÖ Reusable
    ‚îî‚îÄ‚îÄ HabitSummary (~40)            ‚úÖ Reusable
```

---

## üéØ –í—ã–≤–æ–¥—ã

### ‚ùå –ß—Ç–æ –ù–ï –¢–ê–ö –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ:
1. **God Object Anti-pattern** - App.tsx –¥–µ–ª–∞–µ—Ç –≤—Å—ë (553 —Å—Ç—Ä–æ–∫–∏)
2. **–ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è Smart/Dumb** - –ª–æ–≥–∏–∫–∞ —Å–º–µ—à–∞–Ω–∞ —Å UI
3. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** - EmptyState, formatDate, –º–æ–¥–∞–ª–∫–∏
4. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –≤—ã–¥–µ–ª–µ–Ω—ã** - Toolbar, TableRow, Header, ChartCard
5. **–ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ state** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–º–∞–∑–∞–Ω–æ
6. **Utility —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö** - formatLastCheckIn –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ utils
7. **–ú–æ–¥–∞–ª–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤–µ–∑–¥–µ** - –≤ App, –≤ Topbar, –≤ Habits

### ‚úÖ –ß—Ç–æ –î–ï–õ–ê–¢–¨ –≤ Angular:
1. **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã** - HabitService, ThemeService, AnalyticsService
2. **–†–∞–∑–¥–µ–ª–∏—Ç—å Smart/Dumb** - Containers vs Presentation
3. **–í—ã–¥–µ–ª–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - –≤—Å–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —á–∞—Å—Ç–∏
4. **–°–æ–∑–¥–∞—Ç—å Pipes** - relativeTime, streakFormat
5. **–°–æ–∑–¥–∞—Ç—å Utils** - date utils, validators
6. **–†–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - AddHabitModal –Ω–∞ 5 –ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
7. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å AppTopbar** - –≤—ã–Ω–µ—Å—Ç–∏ Search, Notifications, Profile

---

## üöÄ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ (Habit, User, Analytics)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å HabitService —Å Signals
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å ThemeService
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã (date, validators)
5. ‚úÖ –°–æ–∑–¥–∞—Ç—å pipes (relativeTime, streakFormat)

### –§–∞–∑–∞ 2: Dumb –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)
6. ‚úÖ HabitCard (–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π)
7. ‚úÖ KpiCard (–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π)
8. ‚úÖ HabitStatusControls (–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π)
9. ‚úÖ PageHeader (–Ω–æ–≤—ã–π, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π)
10. ‚úÖ ChartCard (–Ω–æ–≤—ã–π, –æ–±–µ—Ä—Ç–∫–∞)
11. ‚úÖ EmptyState (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π)

### –§–∞–∑–∞ 3: Layout (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)
12. ‚úÖ AppShell (–≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
13. ‚úÖ AppSidebar (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)
14. ‚úÖ AppTopbar (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –¥–æ 60 —Å—Ç—Ä–æ–∫)
15. ‚úÖ SearchBar (–≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
16. ‚úÖ ThemeToggle (–≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
17. ‚úÖ NotificationsDropdown (–≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
18. ‚úÖ UserProfileMenu (–≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
19. ‚úÖ MobileNav

### –§–∞–∑–∞ 4: Smart –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)
20. ‚úÖ DashboardComponent (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
21. ‚úÖ WeeklyChart (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
22. ‚úÖ HabitsOverviewTable (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
23. ‚úÖ HabitsComponent (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
24. ‚úÖ HabitToolbar (–Ω–æ–≤—ã–π)
25. ‚úÖ HabitTableRow (–Ω–æ–≤—ã–π)

### –§–∞–∑–∞ 5: –ú–æ–¥–∞–ª–∫–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)
26. ‚úÖ AddHabitModal (–≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
27. ‚úÖ HabitIconPicker (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
28. ‚úÖ HabitColorPicker (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
29. ‚úÖ DaySelector (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
30. ‚úÖ HabitSummary (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
31. ‚úÖ AddHabitFormService (–ª–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º—ã)
32. ‚úÖ EditHabitModal
33. ‚úÖ DeleteHabitModal

### –§–∞–∑–∞ 6: Analytics (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô)
34. ‚úÖ AnalyticsComponent (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
35. ‚úÖ StreakTrendChart (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
36. ‚úÖ CompletionBarChart (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
37. ‚úÖ MonthlyPieChart (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
38. ‚úÖ TopHabitsList (–ø–æ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
39. ‚úÖ AnalyticsService

---

## üí° –ö–ª—é—á–µ–≤–∞—è –º—ã—Å–ª—å

> **–ü—Ä–æ—Ç–æ—Ç–∏–ø React - —ç—Ç–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–¥–µ–π.**
> **Angular –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ - —ç—Ç–æ production-ready –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.**

–ú—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã 1:1, –º—ã —Å–æ–∑–¥–∞–µ–º **–ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** —Å:
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP)
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å—é (DRY)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å—é
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å—é
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å—é

**–ò—Ç–æ–≥–æ:**
- –ü—Ä–æ—Ç–æ—Ç–∏–ø: ~10 —Ñ–∞–π–ª–æ–≤, 2500+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, —Å–º–µ—à–∞–Ω–Ω—ã–µ concerns
- Angular: ~40 —Ñ–∞–π–ª–æ–≤, 2000 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å

